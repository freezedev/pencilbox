/*! pencilbox - v0.0.2 - 01-01-2014 */
(function(){}).call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};udefine("pencilbox/constants",function(){return{defaultWidth:800,defaultHeight:480}}),udefine("pencilbox/core/property",function(){var a;return a=function(a,b,c){return Object.defineProperty(a,b,{get:function(){return c},set:function(d){return d!==c?("function"==typeof a.trigger&&a.trigger("property:change",b,d),c=d):void 0}})}}),udefine("pencilbox/element/all",["pencilbox/element","./circle","./rect"],function(a,b,c){return{Element:a,Circle:b,Rect:c}}),udefine("pencilbox/element/circle",["pencilbox/element","pencilbox/core/property"],function(a,c){var d;return d=function(a){function d(a,b,e,f){null==a&&(a=0),null==b&&(b=0),null==e&&(e=100),null==f&&(f=100),this.type="circle",c(this,"width",e),c(this,"height",f),d.__super__.constructor.call(this,a,b)}return b(d,a),d}(a)}),udefine("pencilbox/element",["mixedice","eventmap","pencilbox/core/property"],function(a,b,c){var d;return d=function(){function d(e,f){null==e&&(e=0),null==f&&(f=0),a([this,d.prototype],new b),c(this,"left",e),c(this,"top",f),this.type="none",this.on("created",this.onCreate),this.trigger("created",this.type,this)}return d.onCreate=function(){},d}()}),udefine("pencilbox/element/rect",["pencilbox/element","pencilbox/core/property"],function(a,c){var d;return d=function(a){function d(a,b,e,f){null==a&&(a=0),null==b&&(b=0),null==e&&(e=100),null==f&&(f=100),this.type="rect",c(this,"width",e),c(this,"height",f),d.__super__.constructor.call(this,a,b)}return b(d,a),d}(a)}),udefine("pencilbox",function(){}),udefine("pencilbox/methods",function(){var a;return a=["drawCircle","drawEllipse","drawImage","drawImageRect","drawLine","drawOval","drawPoint","drawRect","drawText"]}),udefine("pencilbox/provider/canvas",function(){var a;return a=function(){function a(a,b){var c,d,e,f;null==a&&(a="pencilbox-"+Date.now()),null!=b&&(e=b.parent,f=b.width,d=b.height),document.getElementById(a)||(c=document.createElement("canvas"),c.id=a,f&&(c.width=f),d&&(c.height=d),"body"!==e&&e?document.getElementById(e).appendChild(c):document.body.appendChild(c)),c=document.getElementById(a),this.context=c.getContext("2d")}return a.prototype.drawRect=function(){},a}()}),udefine("pencilbox/provider/dom",["pencilbox/constants","pencilbox/element/all"],function(a,b){var c,d,e,f;return e=0,f=function(a){return"number"==typeof a?a+"px":a},d=function(a,b,c){var d,f,g,h,i;d=document.createElement("div");for(f in b)i=b[f],d[f]=i;for(g in c)h=c[g],d.style[g]=h;return"body"!==a&&a?document.getElementById(a).appendChild(d):document.body.appendChild(d),e++,d},c=function(){function c(c,e){var g,h,i,j,k=this;null==c&&(c="pencilbox-"+Date.now()),"object"==typeof c&&(e=c,c="pencilbox-"+Date.now()),null!=e&&(i=e.parent,j=e.width,h=e.height),j=j||a.defaultWidth,h=h||a.defaultHeight,j=f(j),h=f(h),document.getElementById(c)||d(i,{id:c,className:"pencilbox"},{width:j,height:h}),g=document.getElementById(c),this.root=c,b.Element.onCreate=function(a,b){var c,e,g;switch(c=""+a+"-"+Date.now(),g={position:"absolute"},g.left=f(b.left),g.top=f(b.top),a){case"circle":e=b.width>b.height?b.width:b.height,g.width=g.height=f(e),g["border-radius"]=f(e/2);break;case"rect":g.width=f(b.width),g.height=f(b.height)}return d(k.root,{id:"pb-element-"+c,className:"element "+a},g)}}return c.prototype.drawCircle=function(a,c,d){return new b.Circle(a,c,d,d)},c.prototype.drawRect=function(a,c,d,e){return new b.Rect(a,c,d,e)},c}()}),udefine("pencilbox/provider",function(){var a;return a={},a.defaultProvider="CanvasProvider",a})}.call(this);